{
  "services": {
    "app": {
      "source": { "type": "dockerfile", "path": "./BenchDockerfile" },
      "ports": [8000],
      "env": {
        "SITE_NAME": "site.local",
        "ADMIN_PASSWORD": "${{ ADMIN_PASSWORD }}",
        "OPENAI_API_KEY": "${{ OPENAI_API_KEY }}",
        "MYSQL_ROOT_PASSWORD": "${{ MYSQL_ROOT_PASSWORD }}",
        "MYSQL_PASSWORD": "${{ MYSQL_PASSWORD }}",
        "MYSQL_USER": "frappe",
        "GPT_APP_GIT": "https://github.com/StoffweXel23/Buchhaltung.git"
      },
      "dependsOn": [
        "mariadb",
        "redis-cache",
        "redis-queue",
        "redis-socketio"
      ]
    },

    "mariadb": {
      "source": { "type": "docker", "image": "mariadb:10.6" },
      "env": {
        "MYSQL_ROOT_PASSWORD": "${{ MYSQL_ROOT_PASSWORD }}",
        "MYSQL_USER": "frappe",
        "MYSQL_PASSWORD": "${{ MYSQL_PASSWORD }}"
      },
      "volumes": ["mariadb"]
    },

    "redis-cache":   { "source": { "type": "docker", "image": "redis:7-alpine" } },
    "redis-queue":   { "source": { "type": "docker", "image": "redis:7-alpine" } },
    "redis-socketio":{ "source": { "type": "docker", "image": "redis:7-alpine" } }
  },

  "volumes": { "mariadb": {} }
}
